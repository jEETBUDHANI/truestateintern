{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { fetchTransactions } from '../services/api';\nexport default function useTransactions() {\n  _s();\n  const [q, setQ] = useState('');\n  const [filters, setFilters] = useState({});\n  const [sort, setSort] = useState('occurred_at_desc');\n  const [page, setPage] = useState(1);\n  const [pageSize] = useState(10);\n  const [data, setData] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    setLoading(true);\n    setError('');\n    const params = {\n      q,\n      sort,\n      page,\n      pageSize,\n      ...filters\n    };\n    fetchTransactions(params).then(res => {\n      setData(res.data);\n      setTotal(res.total);\n      setLoading(false);\n    }).catch(err => {\n      console.error(err);\n      if (err.response && err.response.data && err.response.data.details) {\n        setError(err.response.data.details.join(', '));\n      } else {\n        setError('Something went wrong. Please try again.');\n      }\n      setLoading(false);\n    });\n  }, [q, filters, sort, page, pageSize]);\n  const applyFilters = f => {\n    setFilters(f);\n    setPage(1);\n  };\n  return {\n    q,\n    setQ,\n    sort,\n    setSort,\n    filters,\n    applyFilters,\n    page,\n    setPage,\n    pageSize,\n    data,\n    total,\n    loading,\n    error\n  };\n}\n_s(useTransactions, \"Ktjsf82lP8U4ifsgXs3Vt+hDwOI=\");","map":{"version":3,"names":["useEffect","useState","fetchTransactions","useTransactions","_s","q","setQ","filters","setFilters","sort","setSort","page","setPage","pageSize","data","setData","total","setTotal","loading","setLoading","error","setError","params","then","res","catch","err","console","response","details","join","applyFilters","f"],"sources":["C:/Users/LENOVO/OneDrive/Desktop/assignment/frontend/src/hooks/useTransactions.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { fetchTransactions } from '../services/api';\n\nexport default function useTransactions(){\n  const [q, setQ] = useState('');\n  const [filters, setFilters] = useState({});\n  const [sort, setSort] = useState('occurred_at_desc');\n  const [page, setPage] = useState(1);\n  const [pageSize] = useState(10);\n  const [data, setData] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    setLoading(true);\n    setError('');\n    const params = { q, sort, page, pageSize, ...filters };\n    fetchTransactions(params)\n      .then(res => {\n        setData(res.data);\n        setTotal(res.total);\n        setLoading(false);\n      })\n      .catch(err => {\n        console.error(err);\n        if (err.response && err.response.data && err.response.data.details) {\n          setError(err.response.data.details.join(', '));\n        } else {\n          setError('Something went wrong. Please try again.');\n        }\n        setLoading(false);\n      });\n  }, [q, filters, sort, page, pageSize]);\n\n  const applyFilters = (f) => {\n    setFilters(f);\n    setPage(1);\n  };\n\n  return {\n    q,\n    setQ,\n    sort,\n    setSort,\n    filters,\n    applyFilters,\n    page,\n    setPage,\n    pageSize,\n    data,\n    total,\n    loading,\n    error,\n  };\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,iBAAiB,QAAQ,iBAAiB;AAEnD,eAAe,SAASC,eAAeA,CAAA,EAAE;EAAAC,EAAA;EACvC,MAAM,CAACC,CAAC,EAAEC,IAAI,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAC9B,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC,CAAC;EAC1C,MAAM,CAACQ,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,kBAAkB,CAAC;EACpD,MAAM,CAACU,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC;EACnC,MAAM,CAACY,QAAQ,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC/B,MAAM,CAACa,IAAI,EAAEC,OAAO,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACe,KAAK,EAAEC,QAAQ,CAAC,GAAGhB,QAAQ,CAAC,CAAC,CAAC;EACrC,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACmB,KAAK,EAAEC,QAAQ,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAEtCD,SAAS,CAAC,MAAM;IACdmB,UAAU,CAAC,IAAI,CAAC;IAChBE,QAAQ,CAAC,EAAE,CAAC;IACZ,MAAMC,MAAM,GAAG;MAAEjB,CAAC;MAAEI,IAAI;MAAEE,IAAI;MAAEE,QAAQ;MAAE,GAAGN;IAAQ,CAAC;IACtDL,iBAAiB,CAACoB,MAAM,CAAC,CACtBC,IAAI,CAACC,GAAG,IAAI;MACXT,OAAO,CAACS,GAAG,CAACV,IAAI,CAAC;MACjBG,QAAQ,CAACO,GAAG,CAACR,KAAK,CAAC;MACnBG,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACDM,KAAK,CAACC,GAAG,IAAI;MACZC,OAAO,CAACP,KAAK,CAACM,GAAG,CAAC;MAClB,IAAIA,GAAG,CAACE,QAAQ,IAAIF,GAAG,CAACE,QAAQ,CAACd,IAAI,IAAIY,GAAG,CAACE,QAAQ,CAACd,IAAI,CAACe,OAAO,EAAE;QAClER,QAAQ,CAACK,GAAG,CAACE,QAAQ,CAACd,IAAI,CAACe,OAAO,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MAChD,CAAC,MAAM;QACLT,QAAQ,CAAC,yCAAyC,CAAC;MACrD;MACAF,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;EACN,CAAC,EAAE,CAACd,CAAC,EAAEE,OAAO,EAAEE,IAAI,EAAEE,IAAI,EAAEE,QAAQ,CAAC,CAAC;EAEtC,MAAMkB,YAAY,GAAIC,CAAC,IAAK;IAC1BxB,UAAU,CAACwB,CAAC,CAAC;IACbpB,OAAO,CAAC,CAAC,CAAC;EACZ,CAAC;EAED,OAAO;IACLP,CAAC;IACDC,IAAI;IACJG,IAAI;IACJC,OAAO;IACPH,OAAO;IACPwB,YAAY;IACZpB,IAAI;IACJC,OAAO;IACPC,QAAQ;IACRC,IAAI;IACJE,KAAK;IACLE,OAAO;IACPE;EACF,CAAC;AACH;AAAChB,EAAA,CApDuBD,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}